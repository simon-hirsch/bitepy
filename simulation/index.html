
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dschaurecker.github.io/bitepy/simulation/">
      
      
        <link rel="prev" href="../data/">
      
      
        <link rel="next" href="../results/">
      
      
      <link rel="icon" href="../assets/bite_logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Simulation - BitePy - A Python Battery Intraday Trading Engine</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#simulation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="BitePy - A Python Battery Intraday Trading Engine" class="md-header__button md-logo" aria-label="BitePy - A Python Battery Intraday Trading Engine" data-md-component="logo">
      
  <img src="../assets/bite_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BitePy - A Python Battery Intraday Trading Engine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Simulation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BitePy - A Python Battery Intraday Trading Engine" class="md-nav__button md-logo" aria-label="BitePy - A Python Battery Intraday Trading Engine" data-md-component="logo">
      
  <img src="../assets/bite_logo.png" alt="logo">

    </a>
    BitePy - A Python Battery Intraday Trading Engine
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Preprocessing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Simulation
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Simulation
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.add_bin_to_orderqueue" class="md-nav__link">
    <span class="md-ellipsis">
      add_bin_to_orderqueue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.add_df_to_orderqueue" class="md-nav__link">
    <span class="md-ellipsis">
      add_df_to_orderqueue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.get_data_bins_for_each_day" class="md-nav__link">
    <span class="md-ellipsis">
      get_data_bins_for_each_day
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.get_logs" class="md-nav__link">
    <span class="md-ellipsis">
      get_logs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.print_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      print_parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.return_vol_price_pairs" class="md-nav__link">
    <span class="md-ellipsis">
      return_vol_price_pairs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.run_one_day" class="md-nav__link">
    <span class="md-ellipsis">
      run_one_day
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Results Postprocessing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/dschaurecker/bitepy/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Issues [Github]
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/dschaurecker/bitepy/tree/main" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Source [Github]
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/dschaurecker/bitepy/blob/main/LICENSE" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Licence [Github]
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.add_bin_to_orderqueue" class="md-nav__link">
    <span class="md-ellipsis">
      add_bin_to_orderqueue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.add_df_to_orderqueue" class="md-nav__link">
    <span class="md-ellipsis">
      add_df_to_orderqueue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.get_data_bins_for_each_day" class="md-nav__link">
    <span class="md-ellipsis">
      get_data_bins_for_each_day
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.get_logs" class="md-nav__link">
    <span class="md-ellipsis">
      get_logs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.print_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      print_parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.return_vol_price_pairs" class="md-nav__link">
    <span class="md-ellipsis">
      return_vol_price_pairs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitepy.Simulation.run_one_day" class="md-nav__link">
    <span class="md-ellipsis">
      run_one_day
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="simulation">Simulation</h1>
<p>The <code>Simulation</code> class enables users to initialize simulation instances, set parameters, load the preprocessed LOB Data into the simulation, run the simulation, and return results.
Conceptually, you first set the parameters of the simulation (battery, dynamic programming, and simulation settings), then decide which days of LOB data to feed, before subsequently running the simulation for the desired amount of time. Order book traversals and optimizations happen in C++, while pre-/post-processing and settings are done in Python. Results are returned as Pandas dataframes and can be fed into the post-processing described below.</p>


<div class="doc doc-object doc-class">



<a id="bitepy.Simulation"></a>
    <div class="doc doc-contents first">








              <details class="quote">
                <summary>Source code in <code>bitepy/simulation.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Simulation</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span>
                 <span class="n">storage_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span>
                 <span class="n">lin_deg_cost</span><span class="o">=</span><span class="mf">4.</span><span class="p">,</span>
                 <span class="n">loss_in</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
                 <span class="n">loss_out</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
                 <span class="n">trading_fee</span><span class="o">=</span><span class="mf">0.09</span><span class="p">,</span>
                 <span class="n">num_stor_states</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
                 <span class="n">tec_delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">fixed_solve_time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">solve_frequency</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
                 <span class="n">withdraw_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span>
                 <span class="n">inject_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">):</span>
                <span class="c1">#  forecast_horizon_start=10*60,</span>
                <span class="c1">#  forecast_horizon_end=75):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize a Simulation instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            start_date (pd.Timestamp): The start datetime of the simulation. Must be timezone aware.</span>
<span class="sd">            end_date (pd.Timestamp): The end datetime of the simulation. Must be timezone aware.</span>
<span class="sd">            storage_max (float, optional): The maximum storage capacity of the storage unit (MWh). Default is 10.0.</span>
<span class="sd">            lin_deg_cost (float, optional): The linear degradation cost of the storage unit (€/MWh). Default is 4.0.</span>
<span class="sd">            loss_in (float, optional): The injection efficiency of the storage unit (0-1]. Default is 0.95.</span>
<span class="sd">            loss_out (float, optional): The withdrawal efficiency of the storage unit (0-1]. Default is 0.95.</span>
<span class="sd">            trading_fee (float, optional): The trading fee for the exchange (€/MWh). Default is 0.09.</span>
<span class="sd">            num_stor_states (int, optional): The number of storage states for dynamic programming. Default is 11.</span>
<span class="sd">            tec_delay (int, optional): The technical delay of the storage unit (ms, &gt;= 0). Default is 0.</span>
<span class="sd">            fixed_solve_time (int, optional): The fixed solve time for dynamic programming (ms, &gt;= 0 or -1 for realistic solve times). Default is 0.</span>
<span class="sd">            solve_frequency (float, optional): The frequency at which the dynamic programming solver is run (min). Default is 0.0.</span>
<span class="sd">            withdraw_max (float, optional): The maximum withdrawal power of the storage unit (MW). Default is 10.0.</span>
<span class="sd">            inject_max (float, optional): The maximum injection power of the storage unit (MW). Default is 10.0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># forecast_horizon_start (int, optional): The start of the forecast horizon (min). Default is 600.</span>
        <span class="c1"># forecast_horizon_end (int, optional): The end of the forecast horizon (min). Default is 75.</span>

        <span class="c1"># write all the assertions</span>
        <span class="k">if</span> <span class="n">start_date</span> <span class="o">&gt;=</span> <span class="n">end_date</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_date must be before end_date&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">storage_max</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;storage_max must be &gt;= 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">lin_deg_cost</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;lin_deg_cost must be &gt;= 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">loss_in</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">loss_in</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;loss_in must be in [0, 1]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">loss_out</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">loss_out</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;loss_out must be in [0,1]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">trading_fee</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;trading_fee must be &gt;= 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num_stor_states</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;num_stor_states must be &gt; 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tec_delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tec_delay must be &gt;= 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fixed_solve_time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">fixed_solve_time</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fixed_solve_time must be &gt;= 0 (or -1 for realistic solve times)&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">solve_frequency</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;solve_frequency must be &gt;= 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">withdraw_max</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;withdraw_max must be &gt; 0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inject_max</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;inject_max must be &gt; 0&quot;</span><span class="p">)</span>
        <span class="c1"># if forecast_horizon_start &lt; 0:</span>
        <span class="c1">#     raise ValueError(&quot;forecast_horizon_start must be &gt;= 0&quot;)</span>
        <span class="c1"># if forecast_horizon_end &lt; 0:</span>
        <span class="c1">#     raise ValueError(&quot;forecast_horizon_end must be &gt;= 0&quot;)</span>
        <span class="c1"># if forecast_horizon_start &lt;= forecast_horizon_end:</span>
        <span class="c1">#     raise ValueError(&quot;forecast_horizon_start must larger than forecast_horizon_end&quot;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span> <span class="o">=</span> <span class="n">Simulation_cpp</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">storageMax</span> <span class="o">=</span> <span class="n">storage_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">linDegCost</span> <span class="o">=</span> <span class="n">lin_deg_cost</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossIn</span> <span class="o">=</span> <span class="n">loss_in</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossOut</span> <span class="o">=</span> <span class="n">loss_out</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">tradingFee</span> <span class="o">=</span> <span class="n">trading_fee</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">numStorStates</span> <span class="o">=</span> <span class="n">num_stor_states</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">pingDelay</span> <span class="o">=</span> <span class="n">tec_delay</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">fixedSolveTime</span> <span class="o">=</span> <span class="n">fixed_solve_time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">dpFreq</span> <span class="o">=</span> <span class="n">solve_frequency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">withdrawMax</span> <span class="o">=</span> <span class="n">withdraw_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">injectMax</span> <span class="o">=</span> <span class="n">inject_max</span>
        <span class="c1"># self._sim_cpp.params.foreHorizonStart = forecast_horizon_start</span>
        <span class="c1"># self._sim_cpp.params.foreHorizonEnd = forecast_horizon_end</span>

        <span class="c1"># Set start and end date</span>
        <span class="k">if</span> <span class="n">start_date</span> <span class="o">&gt;=</span> <span class="n">end_date</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_date must be before end_date&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">start_date</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_date must be timezone aware&quot;</span><span class="p">)</span>
        <span class="n">start_date</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startMonth</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">month</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startDay</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">day</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startYear</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">year</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startHour</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">hour</span>
        <span class="k">if</span> <span class="n">end_date</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;end_date must be timezone aware&quot;</span><span class="p">)</span>
        <span class="n">end_date</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endMonth</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">month</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endDay</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">day</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endYear</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">year</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endHour</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">hour</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_bin_to_orderqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bin_data</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add an order binary file to the simulation&#39;s order queue.</span>

<span class="sd">        Args:</span>
<span class="sd">            bin_data (str): The path to the order binary file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">addOrderQueueFromBin</span><span class="p">(</span><span class="n">bin_data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_df_to_orderqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a DataFrame of orders to the simulation&#39;s order queue.</span>

<span class="sd">        The DataFrame must have the same columns as the saved CSV files, with timestamps in UTC</span>
<span class="sd">        (seconds and milliseconds).</span>

<span class="sd">        Args:</span>
<span class="sd">            df (pd.DataFrame): A DataFrame containing the orders to be added.</span>

<span class="sd">        Processing Steps:</span>
<span class="sd">            - Validate that the timestamp columns (&#39;start&#39;, &#39;transaction&#39;, &#39;validity&#39;) are timezone aware.</span>
<span class="sd">            - Ensure that all timestamps are in the same timezone.</span>
<span class="sd">            - Convert all timestamps to UTC and format them in ISO 8601.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All timestamps of input df must be timezone aware&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">and</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All timestamps of input df must be in the same timezone&quot;</span><span class="p">)</span>

        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%SZ&#39;</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S.</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Z&#39;</span>
        <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S.</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Z&#39;</span>

        <span class="n">ids</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">initials</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;initial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">sides</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;side&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">starts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">transactions</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;transaction&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">validities</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;validity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">prices</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">quantities</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">addOrderQueueFromPandas</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">initials</span><span class="p">,</span> <span class="n">sides</span><span class="p">,</span> <span class="n">starts</span><span class="p">,</span> <span class="n">transactions</span><span class="p">,</span> <span class="n">validities</span><span class="p">,</span> <span class="n">prices</span><span class="p">,</span> <span class="n">quantities</span><span class="p">)</span>

    <span class="c1"># def add_forecast_from_df(self, df: pd.DataFrame):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Add forecast data from a DataFrame to the simulation.</span>

    <span class="c1">#     The DataFrame must contain the following columns:</span>
    <span class="c1">#         - creation_time: The time when the forecast was created (timezone aware, up to millisecond precision).</span>
    <span class="c1">#         - delivery_start: The start time of the delivery period (timezone aware).</span>
    <span class="c1">#         - sell_price: The price at which the optimization will try to sell (€/MWh).</span>
    <span class="c1">#         - buy_price: The price at which the optimization will try to buy (€/MWh).</span>

    <span class="c1">#     Args:</span>
    <span class="c1">#         df (pd.DataFrame): A DataFrame containing the forecast data.</span>

    <span class="c1">#     Processing Steps:</span>
    <span class="c1">#         - Validate that the &#39;creation_time&#39; and &#39;delivery_start&#39; columns are timezone aware and identical.</span>
    <span class="c1">#         - Convert the timestamps to UTC and format them in ISO 8601.</span>
    <span class="c1">#         - Pass the data to the simulation.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if (df[&quot;creation_time&quot;].dt.tz is None and df[&quot;delivery_start&quot;].dt.tz is None):</span>
    <span class="c1">#         raise ValueError(&quot;All timestamps of input df must be timezone aware&quot;)</span>
    <span class="c1">#     if not (df[&quot;creation_time&quot;].dt.tz == df[&quot;delivery_start&quot;].dt.tz):</span>
    <span class="c1">#         raise ValueError(&quot;All timestamps of input df must be in the same timezone&quot;)</span>

    <span class="c1">#     df[&quot;creation_time&quot;] = df[&quot;creation_time&quot;].dt.tz_convert(&quot;UTC&quot;)</span>
    <span class="c1">#     df[&quot;delivery_start&quot;] = df[&quot;delivery_start&quot;].dt.tz_convert(&quot;UTC&quot;)</span>

    <span class="c1">#     df[&quot;creation_time&quot;] = df[&quot;creation_time&quot;].dt.tz_localize(None).dt.strftime(&#39;%Y-%m-%dT%H:%M:%S.%f&#39;).str[:-3] + &#39;Z&#39;</span>
    <span class="c1">#     df[&quot;delivery_start&quot;] = df[&quot;delivery_start&quot;].dt.tz_localize(None).dt.strftime(&#39;%Y-%m-%dT%H:%M:%SZ&#39;)</span>

    <span class="c1">#     creation_time = df[&quot;creation_time&quot;].to_numpy(dtype=&#39;str&#39;).tolist()</span>
    <span class="c1">#     delivery_start = df[&quot;delivery_start&quot;].to_numpy(dtype=&#39;str&#39;).tolist()</span>
    <span class="c1">#     buy_price = df[&quot;buy_price&quot;].to_numpy(dtype=np.float64).tolist()</span>
    <span class="c1">#     sell_price = df[&quot;sell_price&quot;].to_numpy(dtype=np.float64).tolist()</span>

    <span class="c1">#     self._sim_cpp.loadForecastMapFromPandas(creation_time, delivery_start, buy_price, sell_price)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_data_bins_for_each_day</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate a list of file paths for binary order book data for each day within a date range.</span>

<span class="sd">        Args:</span>
<span class="sd">            base_path (str): The base directory path where the binary files are stored.</span>
<span class="sd">            start_date (pd.Timestamp): The start date of the range.</span>
<span class="sd">            end_date (pd.Timestamp): The end date of the range.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: A list of file paths for each day&#39;s binary order book file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_date_utc</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span>
        <span class="n">end_date_utc</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">base_path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;/&#39;</span><span class="p">:</span>
            <span class="n">base_path</span> <span class="o">+=</span> <span class="s1">&#39;/&#39;</span>
        <span class="n">base_path</span> <span class="o">+=</span> <span class="s2">&quot;orderbook_&quot;</span>

        <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">current_date</span> <span class="o">=</span> <span class="n">start_date_utc</span>
        <span class="k">while</span> <span class="n">current_date</span> <span class="o">&lt;</span> <span class="n">end_date_utc</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_path</span><span class="si">}{</span><span class="n">current_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.bin&quot;</span>
            <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="n">current_date</span> <span class="o">+=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">paths</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute the simulation using binary data files.</span>

<span class="sd">        The files must be named as: orderbook_YYYY-MM-DD.bin.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_path (str): The directory containing the binary data files.</span>
<span class="sd">            verbose (bool, optional): If True, display progress logs. Default is True.</span>

<span class="sd">        Processing Steps:</span>
<span class="sd">            - Retrieve the list of binary file paths for the simulation period.</span>
<span class="sd">            - Iterate through each day&#39;s data, add the file to the order queue, and run the simulation for that day.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startYear</span><span class="p">,</span>
                                  <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startMonth</span><span class="p">,</span>
                                  <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startDay</span><span class="p">,</span>
                                  <span class="n">hour</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startHour</span><span class="p">,</span>
                                  <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="n">end_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endYear</span><span class="p">,</span>
                                <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endMonth</span><span class="p">,</span>
                                <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endDay</span><span class="p">,</span>
                                <span class="n">hour</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endHour</span><span class="p">,</span>
                                <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="n">lob_paths</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data_bins_for_each_day</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>

        <span class="n">num_days</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lob_paths</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The simulation will iterate over&quot;</span><span class="p">,</span> <span class="n">num_days</span><span class="p">,</span> <span class="s2">&quot;files.&quot;</span><span class="p">)</span>

        <span class="k">with</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="n">num_days</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Simulated Days&quot;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">verbose</span><span class="p">)</span> <span class="k">as</span> <span class="n">pbar</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lob_paths</span><span class="p">):</span>
                <span class="n">pbar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Currently simulating </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> ... &quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_bin_to_orderqueue</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">run_one_day</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">lob_paths</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Simulation finished.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_one_day</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_last</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run the simulation for a single day.</span>

<span class="sd">        Args:</span>
<span class="sd">            is_last (bool): If True, indicates that this is the last iteration of data.</span>

<span class="sd">        Processing Steps:</span>
<span class="sd">            - Execute the simulation for the provided day&#39;s data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">is_last</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve the logs generated by the simulation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A dictionary containing simulation logs with the following keys:</span>
<span class="sd">                - decision_record: Final simulation schedule.</span>
<span class="sd">                - price_record: CID price data over the simulation duration.</span>
<span class="sd">                - accepted_orders: Limit orders accepted by the RI.</span>
<span class="sd">                - executed_orders: Orders sent to the exchange by the RI.</span>
<span class="sd">                - killed_orders: Orders that were missed at the exchange.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># - forecast_orders: Orders virtually traded against the forecast.</span>
        <span class="c1"># - balancing_orders: Orders that would have incurred payments to the TSO.</span>
        <span class="n">decision_record</span><span class="p">,</span> <span class="n">price_record</span><span class="p">,</span> <span class="n">accepted_orders</span><span class="p">,</span> <span class="n">executed_orders</span><span class="p">,</span> <span class="n">forecast_orders</span><span class="p">,</span> <span class="n">killed_orders</span><span class="p">,</span> <span class="n">balancing_orders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">getLogs</span><span class="p">()</span>
        <span class="n">decision_record</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">decision_record</span><span class="p">)</span>
        <span class="n">price_record</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">price_record</span><span class="p">)</span>
        <span class="n">accepted_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">)</span>
        <span class="n">executed_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">)</span>
        <span class="n">forecast_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">)</span>
        <span class="n">killed_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">)</span>
        <span class="n">balancing_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">balancing_orders</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">decision_record</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">decision_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">decision_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">price_record</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">price_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">price_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">accepted_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;cancel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;cancel&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;delivery&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;delivery&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">executed_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">forecast_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">killed_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">balancing_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">logs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;decision_record&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">decision_record</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;price_record&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">price_record</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;accepted_orders&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;executed_orders&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
            <span class="c1"># &quot;forecast_orders&quot;: pd.DataFrame(forecast_orders, index=None), # removed for later versions of the code</span>
            <span class="s2">&quot;killed_orders&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
            <span class="c1"># &quot;balancing_orders&quot;: pd.DataFrame(balancing_orders, index=None), # removed for later versions of the code</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">logs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print the simulation parameters, including start/end times, storage settings, and various limits and costs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">startMonth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startMonth</span>
        <span class="n">startDay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startDay</span>
        <span class="n">startYear</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startYear</span>
        <span class="n">startHour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startHour</span>
        <span class="n">endMonth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endMonth</span>
        <span class="n">endDay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endDay</span>
        <span class="n">endYear</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endYear</span>
        <span class="n">endHour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endHour</span>

        <span class="n">startDate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">startYear</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">startMonth</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">startDay</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="n">startHour</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="n">endDate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">endYear</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">endMonth</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">endDay</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="n">endHour</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start Time (UTC):&quot;</span><span class="p">,</span> <span class="n">startDate</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End Time (UTC):&quot;</span><span class="p">,</span> <span class="n">endDate</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage Maximum:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">storageMax</span><span class="p">,</span> <span class="s2">&quot;MWh&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Linear Degredation Cost:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">linDegCost</span><span class="p">,</span> <span class="s2">&quot;€/MWh&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Injection Loss η+:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossIn</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Withdrawal Loss η-:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossOut</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Trading Fee:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">tradingFee</span><span class="p">,</span> <span class="s2">&quot;€/MWh&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of DP Storage States:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">numStorStates</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Technical Delay:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">pingDelay</span><span class="p">,</span> <span class="s2">&quot;ms&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fixed Solve Time:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">fixedSolveTime</span><span class="p">,</span> <span class="s2">&quot;ms&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solve Frequency:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">dpFreq</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Injection Maximum:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">injectMax</span><span class="p">,</span> <span class="s2">&quot;MW&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Withdrawal Maximum:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">withdrawMax</span><span class="p">,</span> <span class="s2">&quot;MW&quot;</span><span class="p">)</span>
        <span class="c1"># print(&quot;Forecast Horizon Start:&quot;, self._sim_cpp.params.foreHorizonStart, &quot;min&quot;)</span>
        <span class="c1"># print(&quot;Forecast Horizon End:&quot;, self._sim_cpp.params.foreHorizonEnd, &quot;min&quot;)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">return_vol_price_pairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_last</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">volumes</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve volume-price pairs from the simulation.</span>

<span class="sd">        Args:</span>
<span class="sd">            is_last (bool): If True, indicates this is the last iteration of data.</span>
<span class="sd">            frequency (int): The frequency (in seconds) at which price data is retrieved.</span>
<span class="sd">            volumes (np.ndarray): A 1D numpy array of volumes for which prices are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            pd.DataFrame: A DataFrame with columns:</span>
<span class="sd">                - current_time: Time of the export (UTC).</span>
<span class="sd">                - delivery_hour: Delivery period time (UTC).</span>
<span class="sd">                - volume: The volume for which the price is exported (MWh).</span>
<span class="sd">                - price_full: The full price (cashflow) for the volume (€).</span>
<span class="sd">                - worst_accepted_price: Market price of the worst matched order (€/MWh).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">volumes</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;volumes must be a 1D numpy array&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">frequency</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;frequency must be &gt; 0&quot;</span><span class="p">)</span>

        <span class="n">vol_price_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">return_vol_price_pairs</span><span class="p">(</span><span class="n">is_last</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">volumes</span><span class="p">)</span>
        <span class="n">vol_price_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">vol_price_list</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">vol_price_list</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;current_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;current_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;delivery_hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;delivery_hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">vol_price_list</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">storage_max</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">lin_deg_cost</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">loss_in</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">loss_out</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">trading_fee</span><span class="o">=</span><span class="mf">0.09</span><span class="p">,</span> <span class="n">num_stor_states</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">tec_delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fixed_solve_time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">solve_frequency</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">withdraw_max</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">inject_max</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Initialize a Simulation instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>start_date</code>
            </td>
            <td>
                  <code><span title="pandas.Timestamp">Timestamp</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The start datetime of the simulation. Must be timezone aware.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>end_date</code>
            </td>
            <td>
                  <code><span title="pandas.Timestamp">Timestamp</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The end datetime of the simulation. Must be timezone aware.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>storage_max</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum storage capacity of the storage unit (MWh). Default is 10.0.</p>
              </div>
            </td>
            <td>
                  <code>10.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>lin_deg_cost</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The linear degradation cost of the storage unit (€/MWh). Default is 4.0.</p>
              </div>
            </td>
            <td>
                  <code>4.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>loss_in</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The injection efficiency of the storage unit (0-1]. Default is 0.95.</p>
              </div>
            </td>
            <td>
                  <code>0.95</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>loss_out</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The withdrawal efficiency of the storage unit (0-1]. Default is 0.95.</p>
              </div>
            </td>
            <td>
                  <code>0.95</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>trading_fee</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The trading fee for the exchange (€/MWh). Default is 0.09.</p>
              </div>
            </td>
            <td>
                  <code>0.09</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_stor_states</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of storage states for dynamic programming. Default is 11.</p>
              </div>
            </td>
            <td>
                  <code>11</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tec_delay</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The technical delay of the storage unit (ms, &gt;= 0). Default is 0.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fixed_solve_time</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The fixed solve time for dynamic programming (ms, &gt;= 0 or -1 for realistic solve times). Default is 0.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>solve_frequency</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The frequency at which the dynamic programming solver is run (min). Default is 0.0.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>withdraw_max</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum withdrawal power of the storage unit (MW). Default is 10.0.</p>
              </div>
            </td>
            <td>
                  <code>10.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inject_max</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum injection power of the storage unit (MW). Default is 10.0.</p>
              </div>
            </td>
            <td>
                  <code>10.0</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span>
             <span class="n">storage_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span>
             <span class="n">lin_deg_cost</span><span class="o">=</span><span class="mf">4.</span><span class="p">,</span>
             <span class="n">loss_in</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
             <span class="n">loss_out</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
             <span class="n">trading_fee</span><span class="o">=</span><span class="mf">0.09</span><span class="p">,</span>
             <span class="n">num_stor_states</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
             <span class="n">tec_delay</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
             <span class="n">fixed_solve_time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
             <span class="n">solve_frequency</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
             <span class="n">withdraw_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span>
             <span class="n">inject_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">):</span>
            <span class="c1">#  forecast_horizon_start=10*60,</span>
            <span class="c1">#  forecast_horizon_end=75):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize a Simulation instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        start_date (pd.Timestamp): The start datetime of the simulation. Must be timezone aware.</span>
<span class="sd">        end_date (pd.Timestamp): The end datetime of the simulation. Must be timezone aware.</span>
<span class="sd">        storage_max (float, optional): The maximum storage capacity of the storage unit (MWh). Default is 10.0.</span>
<span class="sd">        lin_deg_cost (float, optional): The linear degradation cost of the storage unit (€/MWh). Default is 4.0.</span>
<span class="sd">        loss_in (float, optional): The injection efficiency of the storage unit (0-1]. Default is 0.95.</span>
<span class="sd">        loss_out (float, optional): The withdrawal efficiency of the storage unit (0-1]. Default is 0.95.</span>
<span class="sd">        trading_fee (float, optional): The trading fee for the exchange (€/MWh). Default is 0.09.</span>
<span class="sd">        num_stor_states (int, optional): The number of storage states for dynamic programming. Default is 11.</span>
<span class="sd">        tec_delay (int, optional): The technical delay of the storage unit (ms, &gt;= 0). Default is 0.</span>
<span class="sd">        fixed_solve_time (int, optional): The fixed solve time for dynamic programming (ms, &gt;= 0 or -1 for realistic solve times). Default is 0.</span>
<span class="sd">        solve_frequency (float, optional): The frequency at which the dynamic programming solver is run (min). Default is 0.0.</span>
<span class="sd">        withdraw_max (float, optional): The maximum withdrawal power of the storage unit (MW). Default is 10.0.</span>
<span class="sd">        inject_max (float, optional): The maximum injection power of the storage unit (MW). Default is 10.0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># forecast_horizon_start (int, optional): The start of the forecast horizon (min). Default is 600.</span>
    <span class="c1"># forecast_horizon_end (int, optional): The end of the forecast horizon (min). Default is 75.</span>

    <span class="c1"># write all the assertions</span>
    <span class="k">if</span> <span class="n">start_date</span> <span class="o">&gt;=</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_date must be before end_date&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">storage_max</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;storage_max must be &gt;= 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lin_deg_cost</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;lin_deg_cost must be &gt;= 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">loss_in</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">loss_in</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;loss_in must be in [0, 1]&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">loss_out</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">loss_out</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;loss_out must be in [0,1]&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">trading_fee</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;trading_fee must be &gt;= 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">num_stor_states</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;num_stor_states must be &gt; 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">tec_delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;tec_delay must be &gt;= 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fixed_solve_time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fixed_solve_time</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fixed_solve_time must be &gt;= 0 (or -1 for realistic solve times)&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">solve_frequency</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;solve_frequency must be &gt;= 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">withdraw_max</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;withdraw_max must be &gt; 0&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">inject_max</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;inject_max must be &gt; 0&quot;</span><span class="p">)</span>
    <span class="c1"># if forecast_horizon_start &lt; 0:</span>
    <span class="c1">#     raise ValueError(&quot;forecast_horizon_start must be &gt;= 0&quot;)</span>
    <span class="c1"># if forecast_horizon_end &lt; 0:</span>
    <span class="c1">#     raise ValueError(&quot;forecast_horizon_end must be &gt;= 0&quot;)</span>
    <span class="c1"># if forecast_horizon_start &lt;= forecast_horizon_end:</span>
    <span class="c1">#     raise ValueError(&quot;forecast_horizon_start must larger than forecast_horizon_end&quot;)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span> <span class="o">=</span> <span class="n">Simulation_cpp</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">storageMax</span> <span class="o">=</span> <span class="n">storage_max</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">linDegCost</span> <span class="o">=</span> <span class="n">lin_deg_cost</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossIn</span> <span class="o">=</span> <span class="n">loss_in</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossOut</span> <span class="o">=</span> <span class="n">loss_out</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">tradingFee</span> <span class="o">=</span> <span class="n">trading_fee</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">numStorStates</span> <span class="o">=</span> <span class="n">num_stor_states</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">pingDelay</span> <span class="o">=</span> <span class="n">tec_delay</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">fixedSolveTime</span> <span class="o">=</span> <span class="n">fixed_solve_time</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">dpFreq</span> <span class="o">=</span> <span class="n">solve_frequency</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">withdrawMax</span> <span class="o">=</span> <span class="n">withdraw_max</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">injectMax</span> <span class="o">=</span> <span class="n">inject_max</span>
    <span class="c1"># self._sim_cpp.params.foreHorizonStart = forecast_horizon_start</span>
    <span class="c1"># self._sim_cpp.params.foreHorizonEnd = forecast_horizon_end</span>

    <span class="c1"># Set start and end date</span>
    <span class="k">if</span> <span class="n">start_date</span> <span class="o">&gt;=</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_date must be before end_date&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">start_date</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;start_date must be timezone aware&quot;</span><span class="p">)</span>
    <span class="n">start_date</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startMonth</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">month</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startDay</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">day</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startYear</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">year</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startHour</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">hour</span>
    <span class="k">if</span> <span class="n">end_date</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;end_date must be timezone aware&quot;</span><span class="p">)</span>
    <span class="n">end_date</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endMonth</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">month</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endDay</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">day</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endYear</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">year</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endHour</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">hour</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.add_bin_to_orderqueue" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_bin_to_orderqueue</span><span class="p">(</span><span class="n">bin_data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Add an order binary file to the simulation's order queue.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>bin_data</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the order binary file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_bin_to_orderqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bin_data</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add an order binary file to the simulation&#39;s order queue.</span>

<span class="sd">    Args:</span>
<span class="sd">        bin_data (str): The path to the order binary file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">addOrderQueueFromBin</span><span class="p">(</span><span class="n">bin_data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.add_df_to_orderqueue" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_df_to_orderqueue</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Add a DataFrame of orders to the simulation's order queue.</p>
<p>The DataFrame must have the same columns as the saved CSV files, with timestamps in UTC
(seconds and milliseconds).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>df</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the orders to be added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="processing-steps" open>
  <summary>Processing Steps</summary>
  <ul>
<li>Validate that the timestamp columns ('start', 'transaction', 'validity') are timezone aware.</li>
<li>Ensure that all timestamps are in the same timezone.</li>
<li>Convert all timestamps to UTC and format them in ISO 8601.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_df_to_orderqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a DataFrame of orders to the simulation&#39;s order queue.</span>

<span class="sd">    The DataFrame must have the same columns as the saved CSV files, with timestamps in UTC</span>
<span class="sd">    (seconds and milliseconds).</span>

<span class="sd">    Args:</span>
<span class="sd">        df (pd.DataFrame): A DataFrame containing the orders to be added.</span>

<span class="sd">    Processing Steps:</span>
<span class="sd">        - Validate that the timestamp columns (&#39;start&#39;, &#39;transaction&#39;, &#39;validity&#39;) are timezone aware.</span>
<span class="sd">        - Ensure that all timestamps are in the same timezone.</span>
<span class="sd">        - Convert all timestamps to UTC and format them in ISO 8601.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All timestamps of input df must be timezone aware&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="ow">and</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All timestamps of input df must be in the same timezone&quot;</span><span class="p">)</span>

    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%SZ&#39;</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;transaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S.</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Z&#39;</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;validity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S.</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;Z&#39;</span>

    <span class="n">ids</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">initials</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;initial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">sides</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;side&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">starts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">transactions</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;transaction&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">validities</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;validity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">prices</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">quantities</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">addOrderQueueFromPandas</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">initials</span><span class="p">,</span> <span class="n">sides</span><span class="p">,</span> <span class="n">starts</span><span class="p">,</span> <span class="n">transactions</span><span class="p">,</span> <span class="n">validities</span><span class="p">,</span> <span class="n">prices</span><span class="p">,</span> <span class="n">quantities</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.get_data_bins_for_each_day" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_bins_for_each_day</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Generate a list of file paths for binary order book data for each day within a date range.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>base_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The base directory path where the binary files are stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>start_date</code>
            </td>
            <td>
                  <code><span title="pandas.Timestamp">Timestamp</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The start date of the range.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>end_date</code>
            </td>
            <td>
                  <code><span title="pandas.Timestamp">Timestamp</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The end date of the range.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of file paths for each day's binary order book file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_data_bins_for_each_day</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">,</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a list of file paths for binary order book data for each day within a date range.</span>

<span class="sd">    Args:</span>
<span class="sd">        base_path (str): The base directory path where the binary files are stored.</span>
<span class="sd">        start_date (pd.Timestamp): The start date of the range.</span>
<span class="sd">        end_date (pd.Timestamp): The end date of the range.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: A list of file paths for each day&#39;s binary order book file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start_date_utc</span> <span class="o">=</span> <span class="n">start_date</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span>
    <span class="n">end_date_utc</span> <span class="o">=</span> <span class="n">end_date</span><span class="o">.</span><span class="n">tz_convert</span><span class="p">(</span><span class="s1">&#39;UTC&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">base_path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;/&#39;</span><span class="p">:</span>
        <span class="n">base_path</span> <span class="o">+=</span> <span class="s1">&#39;/&#39;</span>
    <span class="n">base_path</span> <span class="o">+=</span> <span class="s2">&quot;orderbook_&quot;</span>

    <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">current_date</span> <span class="o">=</span> <span class="n">start_date_utc</span>
    <span class="k">while</span> <span class="n">current_date</span> <span class="o">&lt;</span> <span class="n">end_date_utc</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_path</span><span class="si">}{</span><span class="n">current_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.bin&quot;</span>
        <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">current_date</span> <span class="o">+=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">paths</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.get_logs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_logs</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve the logs generated by the simulation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing simulation logs with the following keys:
- decision_record: Final simulation schedule.
- price_record: CID price data over the simulation duration.
- accepted_orders: Limit orders accepted by the RI.
- executed_orders: Orders sent to the exchange by the RI.
- killed_orders: Orders that were missed at the exchange.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve the logs generated by the simulation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary containing simulation logs with the following keys:</span>
<span class="sd">            - decision_record: Final simulation schedule.</span>
<span class="sd">            - price_record: CID price data over the simulation duration.</span>
<span class="sd">            - accepted_orders: Limit orders accepted by the RI.</span>
<span class="sd">            - executed_orders: Orders sent to the exchange by the RI.</span>
<span class="sd">            - killed_orders: Orders that were missed at the exchange.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># - forecast_orders: Orders virtually traded against the forecast.</span>
    <span class="c1"># - balancing_orders: Orders that would have incurred payments to the TSO.</span>
    <span class="n">decision_record</span><span class="p">,</span> <span class="n">price_record</span><span class="p">,</span> <span class="n">accepted_orders</span><span class="p">,</span> <span class="n">executed_orders</span><span class="p">,</span> <span class="n">forecast_orders</span><span class="p">,</span> <span class="n">killed_orders</span><span class="p">,</span> <span class="n">balancing_orders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">getLogs</span><span class="p">()</span>
    <span class="n">decision_record</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">decision_record</span><span class="p">)</span>
    <span class="n">price_record</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">price_record</span><span class="p">)</span>
    <span class="n">accepted_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">)</span>
    <span class="n">executed_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">)</span>
    <span class="n">forecast_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">)</span>
    <span class="n">killed_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">)</span>
    <span class="n">balancing_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">balancing_orders</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">decision_record</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">decision_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">decision_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">price_record</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">price_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">price_record</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">accepted_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;cancel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;cancel&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;delivery&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">[</span><span class="s2">&quot;delivery&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">executed_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">forecast_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">forecast_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">killed_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;last_solve_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">balancing_orders</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">balancing_orders</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">logs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;decision_record&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">decision_record</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;price_record&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">price_record</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;accepted_orders&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">accepted_orders</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;executed_orders&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">executed_orders</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
        <span class="c1"># &quot;forecast_orders&quot;: pd.DataFrame(forecast_orders, index=None), # removed for later versions of the code</span>
        <span class="s2">&quot;killed_orders&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">killed_orders</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
        <span class="c1"># &quot;balancing_orders&quot;: pd.DataFrame(balancing_orders, index=None), # removed for later versions of the code</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">logs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.print_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">print_parameters</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Print the simulation parameters, including start/end times, storage settings, and various limits and costs.</p>


            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">print_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Print the simulation parameters, including start/end times, storage settings, and various limits and costs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">startMonth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startMonth</span>
    <span class="n">startDay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startDay</span>
    <span class="n">startYear</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startYear</span>
    <span class="n">startHour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startHour</span>
    <span class="n">endMonth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endMonth</span>
    <span class="n">endDay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endDay</span>
    <span class="n">endYear</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endYear</span>
    <span class="n">endHour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endHour</span>

    <span class="n">startDate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">startYear</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">startMonth</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">startDay</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="n">startHour</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="n">endDate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">endYear</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">endMonth</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="n">endDay</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="n">endHour</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start Time (UTC):&quot;</span><span class="p">,</span> <span class="n">startDate</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End Time (UTC):&quot;</span><span class="p">,</span> <span class="n">endDate</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Storage Maximum:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">storageMax</span><span class="p">,</span> <span class="s2">&quot;MWh&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Linear Degredation Cost:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">linDegCost</span><span class="p">,</span> <span class="s2">&quot;€/MWh&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Injection Loss η+:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossIn</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Withdrawal Loss η-:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">lossOut</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Trading Fee:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">tradingFee</span><span class="p">,</span> <span class="s2">&quot;€/MWh&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of DP Storage States:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">numStorStates</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Technical Delay:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">pingDelay</span><span class="p">,</span> <span class="s2">&quot;ms&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fixed Solve Time:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">fixedSolveTime</span><span class="p">,</span> <span class="s2">&quot;ms&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solve Frequency:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">dpFreq</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Injection Maximum:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">injectMax</span><span class="p">,</span> <span class="s2">&quot;MW&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Withdrawal Maximum:&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">withdrawMax</span><span class="p">,</span> <span class="s2">&quot;MW&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.return_vol_price_pairs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">return_vol_price_pairs</span><span class="p">(</span><span class="n">is_last</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">volumes</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve volume-price pairs from the simulation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>is_last</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, indicates this is the last iteration of data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>frequency</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The frequency (in seconds) at which price data is retrieved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>volumes</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A 1D numpy array of volumes for which prices are returned.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame with columns:
- current_time: Time of the export (UTC).
- delivery_hour: Delivery period time (UTC).
- volume: The volume for which the price is exported (MWh).
- price_full: The full price (cashflow) for the volume (€).
- worst_accepted_price: Market price of the worst matched order (€/MWh).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">return_vol_price_pairs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_last</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">frequency</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">volumes</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve volume-price pairs from the simulation.</span>

<span class="sd">    Args:</span>
<span class="sd">        is_last (bool): If True, indicates this is the last iteration of data.</span>
<span class="sd">        frequency (int): The frequency (in seconds) at which price data is retrieved.</span>
<span class="sd">        volumes (np.ndarray): A 1D numpy array of volumes for which prices are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame with columns:</span>
<span class="sd">            - current_time: Time of the export (UTC).</span>
<span class="sd">            - delivery_hour: Delivery period time (UTC).</span>
<span class="sd">            - volume: The volume for which the price is exported (MWh).</span>
<span class="sd">            - price_full: The full price (cashflow) for the volume (€).</span>
<span class="sd">            - worst_accepted_price: Market price of the worst matched order (€/MWh).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">volumes</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;volumes must be a 1D numpy array&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">frequency</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;frequency must be &gt; 0&quot;</span><span class="p">)</span>

    <span class="n">vol_price_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">return_vol_price_pairs</span><span class="p">(</span><span class="n">is_last</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">volumes</span><span class="p">)</span>
    <span class="n">vol_price_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">vol_price_list</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">vol_price_list</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;current_time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;current_time&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;delivery_hour&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">vol_price_list</span><span class="p">[</span><span class="s2">&quot;delivery_hour&quot;</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">vol_price_list</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Execute the simulation using binary data files.</p>
<p>The files must be named as: orderbook_YYYY-MM-DD.bin.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The directory containing the binary data files.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>verbose</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, display progress logs. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="processing-steps" open>
  <summary>Processing Steps</summary>
  <ul>
<li>Retrieve the list of binary file paths for the simulation period.</li>
<li>Iterate through each day's data, add the file to the order queue, and run the simulation for that day.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Execute the simulation using binary data files.</span>

<span class="sd">    The files must be named as: orderbook_YYYY-MM-DD.bin.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_path (str): The directory containing the binary data files.</span>
<span class="sd">        verbose (bool, optional): If True, display progress logs. Default is True.</span>

<span class="sd">    Processing Steps:</span>
<span class="sd">        - Retrieve the list of binary file paths for the simulation period.</span>
<span class="sd">        - Iterate through each day&#39;s data, add the file to the order queue, and run the simulation for that day.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startYear</span><span class="p">,</span>
                              <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startMonth</span><span class="p">,</span>
                              <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startDay</span><span class="p">,</span>
                              <span class="n">hour</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">startHour</span><span class="p">,</span>
                              <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="n">end_date</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endYear</span><span class="p">,</span>
                            <span class="n">month</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endMonth</span><span class="p">,</span>
                            <span class="n">day</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endDay</span><span class="p">,</span>
                            <span class="n">hour</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">endHour</span><span class="p">,</span>
                            <span class="n">tz</span><span class="o">=</span><span class="s2">&quot;UTC&quot;</span><span class="p">)</span>
    <span class="n">lob_paths</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data_bins_for_each_day</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>

    <span class="n">num_days</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lob_paths</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The simulation will iterate over&quot;</span><span class="p">,</span> <span class="n">num_days</span><span class="p">,</span> <span class="s2">&quot;files.&quot;</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="n">num_days</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Simulated Days&quot;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">verbose</span><span class="p">)</span> <span class="k">as</span> <span class="n">pbar</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lob_paths</span><span class="p">):</span>
            <span class="n">pbar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Currently simulating </span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> ... &quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_bin_to_orderqueue</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run_one_day</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">lob_paths</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Simulation finished.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bitepy.Simulation.run_one_day" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_one_day</span><span class="p">(</span><span class="n">is_last</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Run the simulation for a single day.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>is_last</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, indicates that this is the last iteration of data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="processing-steps" open>
  <summary>Processing Steps</summary>
  <ul>
<li>Execute the simulation for the provided day's data.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>bitepy/simulation.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_one_day</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_last</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run the simulation for a single day.</span>

<span class="sd">    Args:</span>
<span class="sd">        is_last (bool): If True, indicates that this is the last iteration of data.</span>

<span class="sd">    Processing Steps:</span>
<span class="sd">        - Execute the simulation for the provided day&#39;s data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sim_cpp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">is_last</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>